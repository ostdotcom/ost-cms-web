<script  type="text/x-handlebars-template" id="generic_form">
  <form action={{action}} method={{method}} id="entity_data_form">
    <div class="modal-header">
      <h5 class="modal-title" id="createModalLabel">{{header}}</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      {{#each entityFields}}
        {{#each this}}
          {{> (lookup this.meta_ui 'input_kind') input_label=this.meta_ui.input_label data_key_name=this.meta_ui.data_key_name  validations=this.validations select_options=this.meta_ui.options data_key_value=(lookup ../../data @key)}}
        {{/each}}
      {{/each}}
      <input type="hidden" name="entity_id" value="{{entityId}}" />
      {{#if id}}
        <input type="hidden" name="id" value={{id}} />
      {{/if}}
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Discard</button>
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </form>
</script>